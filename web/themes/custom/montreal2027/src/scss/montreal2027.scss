:root {
  --footer-fixed-breakpoint: 64rem;
  --site-header-height: 7rem;
  --site-breadcrumb-height: 2.5rem;
  --site-footer-height: 12rem;
  --color-blue: #33339b;
  --color-dark-blue: #161a37;
  --color-white: #ffffff;
  --color-red: #c70012;
  height: 100vh;
  height: 100dvh;
}

#block-montreal2027-mainnavigation {
  background-color: var(--color-blue);
}

.navbar {
  display: flex;
  justify-content: space-between;

  & ul {
    & .nav-item {
      padding: 0 1rem 0 1rem;

      & a {
        color: var(--color-white);
      }
    }
  }
}

.m2027-gradient {
  background: var(--color-white);
  background: linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(194, 129, 125, 1) 50%, rgba(153, 28, 55, 1) 100%);
}

.m2027-gradient--radial {
  background: var(--color-white);
  background: radial-gradient(circle, rgba(255, 255, 255, 1) 12%, rgba(255, 255, 176, 1) 5%, rgba(239, 135, 107, 1) 16%);
}

#page-wrapper {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  min-height: 100dvh;

  & #header {
    height: var(--site-header-height);
    background: linear-gradient(90deg, rgba(237, 28, 36, 0.19) 0%, rgba(237, 28, 36, 0.91) 50%, rgba(153, 0, 51, 1) 100%),
                white;
    width: 100%;
    padding-top: 0;
    position: sticky;
    top: 0;
    z-index: 1000;
    box-sizing: border-box;

    & .container {
      & .region-header {
        display: flex;
        justify-content: space-between;
      }
    }
  }

  & .region-breadcrumb {
    height: var(--site-breadcrumb-height);
    position: sticky;
    top: var(--site-header-height);
    z-index: 900;
    margin-left: 2rem;
  }

  /* Replace .page-body usage (not present in markup) with the semantic main element (#main)
     Apply top padding so content doesn't scroll under header/breadcrumb and bottom padding
     at larger viewports to avoid the fixed footer covering content. Also neutralize the
     parent theme's #main { min-height: 750px } by setting min-height: 0; the subtheme
     CSS will take precedence thanks to layer and cascade order.
  */
  & main#main,
  & #main {
    flex: 1 1 auto;
    min-height: 0; /* neutralize clean_blog_theme's min-height: 750px */
    box-sizing: border-box;
    padding-bottom: 0; /* default: no footer padding on small screens */
    transition: padding-bottom 220ms ease, padding-top 220ms ease;
  }

  /* Footer: default is static (in-flow) for mobile/smaller screens */
  footer.site-footer {
    height: var(--site-footer-height);
    box-sizing: border-box;
    position: static;
    transition: transform 220ms ease, box-shadow 220ms ease;
    width: 100%;
  }

  /* Make footer fixed on larger viewports and give a subtle slide-up/box-shadow */
  /* Fallback: explicit media query for broad browser support */
  @media (min-width: 64rem) {
    & main#main,
    & #main {
      padding-bottom: var(--site-footer-height);
    }
    footer.site-footer {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1000;
      transform: translateY(0);
      box-shadow: 0 -8px 16px rgba(0,0,0,0.06);
      background: inherit;
    }
  }

  /* CSS-variable based media query (kept so the breakpoint can be updated at runtime via CSS) */
  @media (min-width: calc(var(--footer-fixed-breakpoint))) {
    & main#main,
    & #main {
      padding-bottom: var(--site-footer-height);
    }
    footer.site-footer {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1000;
      transform: translateY(0);
      box-shadow: 0 -8px 16px rgba(0,0,0,0.06);
      background: inherit;
    }
  }

  /* Utility: leftover class remains but footer is fixed by default now */
  .site-footer--fixed {
    /* kept for compatibility; footer becomes fixed at desktop widths via media query */
  }
}

header[role="banner"] {
  & .container {
    max-width: unset;
    padding-left: 0;
  }
}

#block-montreal2027 {
  &-searchform {
    margin-top: 1rem;
  }

  &-mapleleaf {
    & img {
      height: 6rem;
      width: auto;
      margin-top: .5rem;
    }
  }

  &-site-branding {
    align-content: center;

    & .site-logo {
      display: block;
      width: auto;
      height: auto;
      margin-left: 1rem;

      & img {
        height: 6rem;
      }
    }
  }
}

#search-block-form {
  display: grid;
  grid-template-columns: auto auto;
  grid-gap: 1rem;

  & input[type="search"] {
    font-size: 1rem;
    padding: .5rem;
    border: 0;
    width: 100%;
    background: var(--color-dark-blue);

    &::placeholder {
      font-size: 1rem;
      color: var(--color-white);
    }
  }

  & input[type="submit"] {
    font-size: 1rem;
    padding: .5rem 1rem;
    border: none;
    background-color: var(--color-blue);
    color: var(--color-white);
    cursor: pointer;
    border-right: 0;
    border-radius: 0;
    margin-top: 1rem;
    height: 2.4rem;
    text-transform: capitalize;

    &:hover {
      background-color: var(--color-red);
    }
  }
}
